{% extends "base.html" %}
{% block title %}Panel de Administración{% endblock %}

{% block content %}
<div class="container my-5">
  <!-- Título principal -->
  <div class="text-center mb-4">
    <h2 class="text-primary fw-bold">Panel de Administración</h2>
    <p class="text-secondary">Visualiza la información de los usuarios registrados y sus sugerencias.</p>
  </div>

  <!-- Lista de usuarios -->
  <div class="card shadow-sm border-0">
    <div class="card-header bg-primary text-white">
      <h5 class="mb-0">Usuarios Registrados</h5>
    </div>
    <div class="card-body bg-light">
      <div class="table-responsive">
        <table class="table align-middle table-hover mb-0">
          <thead class="table-primary text-center">
            <tr>
              <th>Nombre</th>
              <th>Email</th>
              <th>Fecha de Registro</th>
              <th>Perfil Completo</th>
            </tr>
          </thead>
          <tbody>
            {% for cliente in clientes %}
            {% if cliente.rol == "cliente" %}
            <tr class="text-center">
              <td class="fw-semibold">{{ cliente.user.get_full_name }}</td>
              <td>{{ cliente.user.email }}</td>
              <td>{{ cliente.fecha_creacion|date:"d/m/Y" }}</td>
              <td>
                {% if cliente.datos_completos %}
                  <span class="badge bg-success px-3 py-2">Completo</span>
                {% else %}
                  <span class="badge bg-warning text-dark px-3 py-2">Incompleto</span>
                {% endif %}
              </td>
            </tr>
            {% endif %}
            {% empty %}
            <tr>
              <td colspan="4" class="text-center text-muted py-3">No hay usuarios registrados.</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <!-- Botón para ver sugerencias -->
  <div class="text-center mt-4">
   <a href="{% url 'todas_sugerencias' %}" class="btn btn-outline-primary px-4 py-2">
  Ver sugerencias
</a>
  </div>
</div>
{% endblock %}
